#!/usr/bin/env ruby
$:.unshift(File.join(File.dirname(__FILE__), *%w[.. lib]))
require 'labici'

MIGRATIONS = {
  'simple-products'       => LaBici::SimpleProductMigrator,
  'configurable-products' => LaBici::ConfigurableProductMigrator,
  'customers'             => LaBici::CustomerMigrator
}

if (migrator = MIGRATIONS[ARGV[0]])
  migrator.run!
else
  puts "Usage: bin/migrate [MIGRATION]"
  puts
  puts "Available migrations:"
  MIGRATIONS.keys.each { |m|
    puts " - #{m}"
  }
  puts
end
